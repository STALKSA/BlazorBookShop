@page "/catalog"
@    using BlazorBookShop.Components
@inject IBookShopClient ShopClient
@inject NavigationManager maneger


<MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mud-spacing-around">Добавить товар</MudButton>

<MudText Typo="Typo.h4" Align="Align.Center" Class="ma-20 mb-4 " Style="color:blueviolet">Каталог товаров</MudText>
<MudGrid Spacing="2" Justify="Justify.Center">
	@if (_products is null)
	{
		<MudItem>
			<MudProgressLinear Color="Color.Primary" Indeterminate="true" Class="my-7" />
		<br />
			<MudText Align="Align.Center">Страница загружается...</MudText>
		</MudItem>
	}
	 else
    {
	@foreach (var product in _products)
	{
	

	<MudItem>
				<MudCard Class="shadow-sm bg-light">
			<ProductItem Product="product"  />
					<MudCardActions Class="d-flex justify-content-center">
						<MudGrid Spacing="2" Justify="Justify.Center">
						<MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Delete" Color="Color.Error" Class="mt-3 mb-2 btn-custom">Удалить</MudButton>
						<MudButton OnClick="() => NavigateToProductPage(product.Id)" Variant="Variant.Filled" Color="Color.Primary" Class="mt-3 ml-3 mb-2">Подробнее</MudButton>
						</MudGrid>
					</MudCardActions>
		</MudCard>
	</MudItem>

	}
	}
</MudGrid>